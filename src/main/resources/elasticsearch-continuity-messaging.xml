<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
            http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-3.1.xsd">

    <context:component-scan
            base-package="org.diveintojee.poc.persistence,org.diveintojee.poc.integration"/>

    <!--<amq:broker brokerName="test-broker" start="true">-->
        <!--<amq:persistenceAdapter>-->
            <!--<amq:amqPersistenceAdapter directory="/tmp" maxFileLength="32mb"/>-->
        <!--</amq:persistenceAdapter>-->
        <!--<amq:transportConnectors>-->
            <!--<amq:transportConnector name="nio" uri="nio://0.0.0.0:61616"/>-->
        <!--</amq:transportConnectors>-->
    <!--</amq:broker>-->

    <!--<amq:connectionFactory id="amqConnectionFactory" brokerURL="vm://test-broker"/>-->

    <!--<bean class="org.springframework.jms.connection.CachingConnectionFactory" id="connectionFactory">-->
        <!--<constructor-arg ref="amqConnectionFactory"/>-->
        <!--<property name="sessionCacheSize" value="100"/>-->
    <!--</bean>-->

    <!--<amq:queue physicalName="write-classifieds" id="write-classifieds"/>-->

    <!--<bean class="org.springframework.jms.core.JmsTemplate" id="jmsTemplate">-->
        <!--<constructor-arg ref="amqConnectionFactory"/>-->
    <!--</bean>-->

    <!--<jms:writeClassifiedEventListener-container concurrency="10">-->
        <!--<jms:writeClassifiedEventListener destination="write-classifieds" ref="queueConsumer"/>-->
    <!--</jms:writeClassifiedEventListener-container>-->

    <bean id="write-classifieds-queue" class="java.util.concurrent.ConcurrentLinkedQueue"/>

</beans>
